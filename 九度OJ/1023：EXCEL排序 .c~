#include <iostream>
#include <cstring>
#include <algorithm>
#include <cstdio>
using namespace std;


struct tt
{
	char id[10], name[10];
	int score;
};

bool cmp1(const struct tt &a, const struct tt &b)
{
	if (strcmp(a.id, b.id) < 0)
		return 1;
	else
		return 0;
}

bool cmp2(const struct tt &a, const struct tt &b)
{
	int temp = strcmp(a.name, b.name);
	if (temp < 0)
		return 1;
	else if (temp > 0)
		return 0;
	else if (strcmp(a.id, b.id) < 0)
		return 1;
	else
		return 0;
}

bool cmp3(const struct tt &a, const struct tt &b)
{
	if (a.score < b.score)
		return 1;
	else if (a.score > b.score)
		return 0;
	else if (strcmp(a.id, b.id) < 0)
		return 1;
	else
		return 0;
}


int main()
{
	int n, c;
	int i;
	int icase = 1;
	struct tt student[100005];

	while(scanf("%d %d", &n, &c), n)
	{
		for(i = 0;i < n;i++)
			scanf("%s %s %d", student[i].id, student[i].name, &student[i].score);

		switch(c)
		{
			case 1:
				sort(&student[0], &student[n], cmp1);
				break;
			case 2:
				sort(&student[0], &student[n], cmp2);
				break;
			case 3:
				sort(&student[0], &student[n], cmp3);
		}

		printf("Case %d:\n", icase++);
		for(i = 0;i < n;i++)
			printf("%s %s %d\n", student[i].id, student[i].name, student[i].score);
	}
	return 0;
}
