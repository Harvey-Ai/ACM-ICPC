#include <stdio.h>

int x, y;

void solve(int a, int b, int c)
{
	for(y = 0;;y++)
	{
		for(x = 0;a * x <= b * y;x++) 
			if (b * y - a * x == c)
				break;
		if (b * y - a * x == c)
			break;
	}
}

int main()
{
	int ca, cb, ta;
	int in, out;
	int w1, w2;

	while(scanf("%d %d %d", &ca, &cb, &ta) != EOF)
	{
		solve(ca, cb, ta);
		if (cb * y - ca * x != ta)
			while(1);
		in = out = 0;
		w1 = w2 = 0;
		while(w1 != ta && w2 != ta)
		{
			if (w1 + w2 >= ca && out < x)
			{
				if (w1 < ca)
				{
					printf("pour B A\n");
					w2 -= ca - w1;
				}
				printf("empty A\n");
				w1 = 0;
				out++;
			}
			if (w1 + w2 <= ca && in < y)
			{
				if (w2 > 0)
				{
					printf("pour B A\n");
					w1 += w2;
				}
				printf("fill B\n");
				w2 = cb;
				in++;
			}
		}
		printf("success\n");
	}
	return 0;
}
