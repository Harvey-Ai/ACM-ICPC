#include <iostream>
using namespace std;

int check(int a)
{
	int big = 0;
	while(a)
	{
		if (a % 10 > big)
			big = a % 10;
		a /= 10;
	}
	return big + 1;
}

int checkMulti(int p, int q, int r, int zhi)
{
	int num1, num2, num3;
	int value;

	num1 = num2 = num3 = 0;
	value = 1;
	while(p)
	{
		num1 += (p % 10) * value;
		value *= zhi;
	//	cout << num1 << endl;
		p /= 10;
	}
	value = 1;
	while(q)
	{
		num2 += (q % 10) * value;
		value *= zhi;
		q /= 10;
	}
	value = 1;
	while(r)
	{
		num3 += (r % 10) * value;
		value *= zhi;
		r /= 10;
	}
//	cout <<zhi<< " " << num1 <<" " << num2 << " " << num3 << endl;
	if (num1 * num2 == num3)
		return 1;
	return 0;
}

int main()
{
	int n;
	int i;
	int p, q, r;

	cin >> n;
	while(n--)
	{
		cin >> p >> q >> r;

		int min = 2;

		int temp = check(p);
		min = min > temp ? min : temp;

		temp = check(q);
		min = min > temp ? min : temp;

		temp = check(r);
		min = min > temp ? min : temp;

	//	cout << p << q << r << endl;
		for(i = min;i <= 16;i++)
			if(checkMulti(p, q, r, i))
				break;

		if (i <= 16)
			cout << i << endl;
		else
			cout << 0 << endl;
	}
	return 0;
}
